spring:
  application:
    name: FluxGate
  # --- Database Configuration ---
  datasource:
    # On Railway, DATABASE_URL is provided automatically. Locally, it falls back to the other variables.
    url: ${DATABASE_URL:jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5433}/${DB_NAME:fluxgate}}
    username: ${DB_USER:postgres}
    password: ${DB_PASSWORD:password}
    driver-class-name: org.postgresql.Driver
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
  # --- RabbitMQ Configuration ---
  rabbitmq:
    # On Railway, RABBITMQ_URL is provided automatically. Locally, it falls back to host/port.
    uri: ${RABBITMQ_URL:amqp://${RABBITMQ_USER:guest}:${RABBITMQ_PASSWORD:guest}@${RABBITMQ_HOST:localhost}:${RABBITMQ_PORT:5672}}

# --- Server Port ---
server:
  # Railway provides the PORT variable automatically.
  port: ${PORT:8080}

# --- API Keys ---
nvidia:
  api-key: ${NVIDIA_API_KEY:}
